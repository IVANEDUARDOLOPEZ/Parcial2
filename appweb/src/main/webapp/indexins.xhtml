<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Crear Inscripción</title>
</h:head>
<h:body>
    <p:card style="margin: 5% 5% 5% 5%">
        <f:facet name="title">
            FORMULARIO DE INSCRIPCIÓN
        </f:facet>
        <f:view>
            <h:form id="inscripcionform">
                <h:inputHidden id="id" value="#{inscripcionController.inscripcion.id}"/>
                <p:panelGrid columns="1" layout="grid">
                    <p:outputLabel value="Alumno"/>
                    <h:selectOneMenu id="alumno" value="#{inscripcionController.alumno}">
                        <f:selectItems value="#{indexController.alumnosList}" var="alumno" 
                                       itemLabel="#{alumno.nombre}" itemValue="#{alumno}"/>
                    </h:selectOneMenu>

                    <p:outputLabel value="Materia"/>
                    <h:selectOneMenu id="materia" value="#{inscripcionController.materia}">
                        <f:selectItems value="#{indexControllerMat.materiasList}" var="materia" 
                                       itemLabel="#{materia.nombremat}" itemValue="#{materia}"/>
                    </h:selectOneMenu>

                    <p:outputLabel value="Ciclo"/>
                    <p:inputText id="ciclo"  value="#{inscripcionController.ciclo}"/>

                    <p:outputLabel value="Año"/>
                    <p:inputText id="anio"  value="#{inscripcionController.anio}"/>

                    <p:outputLabel value="Fecha de Inscripción"/>
                    <p:calendar id="fechaInscripcion" value="#{inscripcionController.fechaInscripcion}" pattern="yyyy-MM-dd"/>

                   <p:commandButton value="Guardar" actionListener="#{indexControllerInscripcion.guardarInscripcion}" update="tablaInscripcion inscripcionform"/>
                   


                </p:panelGrid>
            </h:form>
        </f:view>
    </p:card>

    <p:card style="margin: 5% 5% 5% 5%">
        <h1>LISTADO DE INSCRIPCIONES</h1>
        <h:form id="tablaInscripcion">
            <p:dataTable rows="5" paginator="true" paginatorPosition="bottom"
                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="Mostrando {startRecord} a {endRecord} de {totalRecords}"
                         rowsPerPageTemplate="5,10,{ShowAll|'All'}"
                         value="#{indexControllerInscripcion.inscripcionesList}" var="inscripcion">
                <p:column>
                    <f:facet name="header">ID</f:facet>
                    <span>#{inscripcion.id}</span>
                </p:column>
                <p:column>
                    <f:facet name="header">Alumno</f:facet>
                    <span>#{inscripcion.alumno.nombre}</span>
                </p:column>
                <p:column>
                    <f:facet name="header">Materia</f:facet>
                    <span>#{inscripcion.materia.nombremat}</span>
                </p:column>
                <p:column>
                    <f:facet name="header">Ciclo</f:facet>
                    <span>#{inscripcion.ciclo}</span>
                </p:column>
                <p:column>
                    <f:facet name="header">Año</f:facet>
                    <span>#{inscripcion.anio}</span>
                </p:column>
                <p:column>
                    <f:facet name="header">Fecha de Inscripción</f:facet>
                    <span>#{inscripcion.fechaInscripcion}</span>
                </p:column>
            </p:dataTable>
        </h:form>
    </p:card>
    
    
    <h:form>
        <p:commandButton value="ALUMNOS" action="index.xhtml" />
    </h:form>
    <h:form>
        <p:commandButton value="Materias" action="indexmat.xhtml" />
    </h:form>
</h:body>
</html>
